(this.webpackJsonpvsprojects=this.webpackJsonpvsprojects||[]).push([[0],{49:function(e,t,n){e.exports=n(83)},55:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),l=(n(54),n(55),n(11)),s=n(3);var c=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navBar"},r.a.createElement("li",null," ",r.a.createElement(l.b,{className:"MenuLink",exact:!0,to:"/",title:"HOME"}," home")),r.a.createElement("li",null," ",r.a.createElement(l.b,{className:"MenuLink",to:"/Cv",title:"CV"}," Cv")),r.a.createElement("li",null,r.a.createElement(l.b,{className:"MenuLink",to:"/Projects",title:"PROJECTS"}," projects"))))};var d=function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("title",null,"Andreas Berzelius"),r.a.createElement("img",{src:"../img/AndreasBerzelius.png",alt:"andreas"}),r.a.createElement("p",null,"Hi my name is Andreas! Im a Computer & Systems Science student with specialization to Computer game development at Stockholm University. Im a eager programmer that loves to learn and work with other people on different projects. I love to make games but im open to make other things too."))};var m=function(){return r.a.createElement("div",{className:"CV"},r.a.createElement("title",null,"CV"),r.a.createElement("a",{href:"../img/Resum\xe9.pdf"},r.a.createElement("img",{src:"../img/Resum\xe9-picture.png",alt:"cv-bild"})))};var h=function(){return r.a.createElement("div",{className:"ProjectsPreviewContainer"},r.a.createElement("title",null,"PROJECTS"),r.a.createElement(l.b,{to:"./Signalparadox"},r.a.createElement("div",{className:"ProjectPreview"},r.a.createElement("img",{src:"../img/Signalparadox.gif",alt:"SignalParadox-gif"}),r.a.createElement("h3",null," SignalParadox"),r.a.createElement("p",null,"My biggest gameproject yet made with c# in unity with 5 other people"))),r.a.createElement(l.b,{to:"./Spaceinvader"},r.a.createElement("div",{className:"ProjectPreview"},r.a.createElement("img",{src:"../img/Spaceinvader_c++.gif",alt:"Spaceinvader-gif"}),r.a.createElement("h3",null,"Spaceinvader/C++"),r.a.createElement("p",null,"A spaceinvader lookalike made in c++ and SDL2"))),r.a.createElement(l.b,{to:"./Pixelsurgeon"},r.a.createElement("div",{className:"ProjectPreview"},r.a.createElement("img",{src:"../img/pixelsurgeon-demo.gif",alt:"pixelsurgeon-gif"}),r.a.createElement("h3",null,"Pixelsurgeon"),r.a.createElement("p",null,"A 2D surgeon game"))),r.a.createElement(l.b,{to:"./EnviromentUnreal"},r.a.createElement("div",{className:"ProjectPreview"},r.a.createElement("img",{src:"../img/enviroment-UnrealEngine.png",alt:"Enviroment-img"}),r.a.createElement("h3",null,"An enviroment inside Unreal Engine"),r.a.createElement("p",null,"Made models in maya and then built them together in unreal engine"))),r.a.createElement("div",{className:"ProjectPreview"},r.a.createElement("img",{src:"../img/Andmoretocome.png",alt:"andmoretocome-img"})))},g=n(86),p=n(87),u=n(5),f=n(14),v=n.n(f),y={height:"500px",overflowY:"scroll",borderRadius:"5px",boxShadow:"1px 2px 3px rgba(0,0,0,0.35)",fontSize:"1rem",margin:"0px 0.75rem"};var b=function(){return r.a.createElement("div",{className:"Project"},r.a.createElement("title",null,"Signalparadox"),r.a.createElement(v.a,{className:"react-player",url:"../vid/Signalparadox_demo.mp4",fluid:"md",controls:!0,light:"true"}),r.a.createElement("div",null,r.a.createElement("h1",null,"What is this?"),"In SignalParadox you play as Livia Skye who wakes up on an alien infested spaceship trying to figure out what's going on and how to get out. You sneak past aliens and solve puzzles in order to make it out alive. The game concept is basically to stealth and solve puzzles through an exciting and scary environment.",r.a.createElement("img",{src:"../img/Signalparadox/Signalparadox-stats.png",alt:"SignalParadox-stats"}),r.a.createElement("h1",null,"My Role"),"Me and my colleagues had several roles in the project because we were so few and we weren't sure of what roles we had under the project. In the end my roles in the project was input programmer, Gameplay designer and Ai programmer.",r.a.createElement("h1",null,"My tasks"),r.a.createElement("img",{src:"../img/Signalparadox/grenadethrow.gif",alt:"grenadethrow-gif"}),r.a.createElement("h2",null,"Decoygrenade"),"The player can pick up and throw a decoygrenade to lure a certain alien to it so that they can more safely walk by under a limited time. The trajectory of the grenade is visualized while aiming so the player could aim more easily. If the player aims out of range the visualization and animation stops.",r.a.createElement("br",null),"To make the visualization of the grenades trajectory look better than just a colored thin line i made a simple texture that makes the linerenderer look dotted.",r.a.createElement("br",null),r.a.createElement("img",{src:"../img/Signalparadox/dottedlineTexture.png",alt:"dottedline-texture"}),r.a.createElement(g.a,{className:"accordion",defaultActiveKey:"1"},r.a.createElement(p.a,null,r.a.createElement(g.a.Toggle,{as:p.a.Header,eventKey:"0"},"ThrowDecoyGrenade.cs"),r.a.createElement(g.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"codeblock"},r.a.createElement(u.a,{text:"private void Throw()\n      {\n          shouldDrawPath = false;\n          currentState = States.HoldingNoGrenade;\n          onThrowEvent?.Invoke();\n          if (thrownGrenade != null)\n          {\n              Destroy(thrownGrenade.gameObject);\n              StopCoroutine(despawnGrenadeCoroutine);\n          }\n          thrownGrenade = Instantiate(grenadePrefabRigidbody, \n            grenadeProp.position, grenadeProp.rotation);\n          thrownGrenade.AddForce(Vector3.up * gravity);\n          thrownGrenade.velocity = CalculateLaunchData().initialVelocity;\n          hasGrenade = false;\n          despawnGrenadeCoroutine = StartCoroutine(DespawnGrenade());\n      }\n\n      private LaunchData CalculateLaunchData()\n      {\n          Vector3 newTarget = GetTarget().point;\n          if (GetTarget().collider && (newTarget.y - grenadeProp.position.y) < currentThrowHeight)\n          {\n              float displacementY = newTarget.y - grenadeProp.position.y;\n              Vector3 displacementXZ = new Vector3(newTarget.x - grenadeProp.position.x, 0, \n                newTarget.z - grenadeProp.position.z);\n              float time = Mathf.Sqrt(-2 * currentThrowHeight / gravity) + \n              Mathf.Sqrt(2 * (displacementY - currentThrowHeight) / gravity);\n              Vector3 velocityY = Vector3.up * Mathf.Sqrt(-2 * gravity * currentThrowHeight);\n              Vector3 velocityXZ = displacementXZ / time;\n              return new LaunchData(velocityXZ + velocityY * -Mathf.Sign(gravity), time);\n          }\n          onAbortAimEvent?.Invoke();\n          return new LaunchData(Vector3.zero, 0f);\n      }\n\n      private void DrawPath()\n      {\n          if (currentState == States.Disabled || currentState == States.Occupied)\n          {\n              StopAiming();\n              return;\n          }\n          LaunchData launchData = CalculateLaunchData();\n          if (launchData.initialVelocity != Vector3.zero && launchData.timeToTarget != 0f)\n          {\n              Vector3 previousDrawPoint = grenadeProp.position;\n              onAimingEvent?.Invoke();\n              for (int i = 0; i <= lineRendererResolution; i++)\n              {\n                  float simulationTime = i / (float)lineRendererResolution * launchData.timeToTarget;\n                  Vector3 displacement = launchData.initialVelocity * simulationTime + \n                  Vector3.up * gravity * simulationTime * simulationTime / 2f;\n                  Vector3 drawPoint = grenadeProp.position + displacement;\n                  previousDrawPoint = drawPoint;\n                  AddLinePoint(previousDrawPoint);\n                  currentState = States.Aiming;\n              }\n          }\n          else\n          {\n              currentState = States.HoldingGrenade;\n              shouldDrawPath = false;   \n          }\n      }",showLineNumbers:!0,codeBlock:!0,language:"c",theme:u.b,customStyle:y})))))),"After a certain time or if the player picks up another grenade the currently thrown grenade gets erased.",r.a.createElement("img",{src:"../img/Signalparadox/grenadethrow2.gif",alt:"grenadethrow2-gif"}),"The script for getting the aliens to chase the grenade was made by my co-programmer",r.a.createElement("img",{src:"../img/Signalparadox/chargerCharging.gif",alt:"chargerCharging-gif"}),r.a.createElement("h2",null,"The chargerEnemy"),"The ChargerEnemy is an enemy that charges at the player at a very fast speed and if the player is caught in the charge the player dies when the charger smashes into something.",r.a.createElement("br",null),"The charger has several states it switches between and uses a navmesh agent to move around. The Charger\xb4s states are: Patrolstate, huntstate, chargeupstate, chargestate, stunstate, deadstate. Patrolstate the charger patrols between his waypoints until he sees the player. Hunstate the charger sees the player and is actively chasing the player to go into chargeupstate. Chargeupstate the charger stops briefly charge against the player. ChargeState the charger charges at the player. Stunstate happens after the charger has charged into something where he is stunned for a brief moment. Deadstate the charger is dead and can only happen if the charger charges into a glasswall or a laser.",r.a.createElement("img",{src:"../img/Signalparadox/chargerInspectWin.png",alt:"chargerInspectWin-png"}),r.a.createElement("br",null),"At first i tried to use a boxcollider with ontriggerEnter to know when it has stopped charging but after some time working on the project my co-programmer suggested i could just measure the speed after it has started charging and measure to see if it decreases.",r.a.createElement(g.a,{className:"accordion",defaultActiveKey:"1"},r.a.createElement(p.a,null,r.a.createElement(g.a.Toggle,{as:p.a.Header,eventKey:"0"},"ChargeState.cs"),r.a.createElement(g.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"codeblock"},r.a.createElement(u.a,{text:'namespace AI.Charger.AIStateMachine\n                  {\n                      [CreateAssetMenu(menuName = "AIStates/Charger/ChargeState")]\n                      public class ChargeState : ChargerBaseState\n                      {\n                          [SerializeField] private float chargeSpeed;\n                          [SerializeField] private AudioClip hitWallSound;\n                          [SerializeField] private AudioClip startChargeSound;\n                          [SerializeField] private float wallSoundThreshold = 10f;\n                          [SerializeField] private float destroyGlassThreshold = 20f;\n                          private float previousFrameSpeed;\n                          public static Action<GameObject> onChargeEvent, onStunnedEvent, onSlowChargeEvent, onFastChargeEvent;\n                  \n                          public override void Enter()\n                          {\n                              base.Enter();\n                              Ai.AudioSource.PlayOneShot(startChargeSound);\n                              onChargeEvent?.Invoke(Ai.gameObject);\n                          }\n                  \n                          public override void Run()\n                          {\n                              if (previousFrameSpeed - Ai.aiRigidbody.velocity.magnitude > 0f)\n                                  ChargeEnded();\n                              Charge();\n                          }\n                  \n                          private void Charge()\n                          {\n                              previousFrameSpeed = Ai.aiRigidbody.velocity.magnitude;\n                              Ai.aiRigidbody.AddForce(Ai.ChargeDirection.normalized * (chargeSpeed * Time.deltaTime));\n                              if (Ai.aiRigidbody.velocity.magnitude > destroyGlassThreshold)\n                                  onFastChargeEvent?.Invoke(Ai.gameObject);\n                              if (!Ai.EnemyTrigger.IsTouchingTaggedObject) return;\n                              Ai.target.transform.parent = Ai.transform;\n                              Ai.CaughtPlayer();\n                          }\n                  \n                          private void ChargeEnded()\n                          {\n                              if (previousFrameSpeed - Ai.aiRigidbody.velocity.magnitude > wallSoundThreshold)\n                              {\n                                  Ai.AudioSource.PlayOneShot(hitWallSound);\n                                  onStunnedEvent?.Invoke(Ai.gameObject);\n                              }\n                              else\n                                  onSlowChargeEvent?.Invoke(Ai.gameObject);\n                              Ai.aiRigidbody.velocity = Vector3.zero;\n                              previousFrameSpeed = 0f;\n                              if (Ai.target.transform.IsChildOf(Ai.transform))\n                                  Ai.KillPlayer();\n                              Ai.target.transform.parent = null;\n                              Ai.agent.enabled = true;\n                              stateMachine.TransitionTo<StunState>();\n                          }\n                      }\n                  }\n                  ',showLineNumbers:!0,codeBlock:!0,language:"c",theme:u.b,customStyle:y})))))),"The charger is part of a puzzle the player must solve by dodging and luring the charger to charge into a glass wall. If the charger reaches a certain minimum speed and charges into the glasswall it destroys the wall creating a path and then dies.",r.a.createElement("img",{src:"../img/Signalparadox/chargerDestroyGlass.gif",alt:"chargerDestroyGlass-gif"}),r.a.createElement(g.a,{className:"accordion",defaultActiveKey:"1"},r.a.createElement(p.a,null,r.a.createElement(g.a.Toggle,{as:p.a.Header,eventKey:"0"},"GlassWallTrigger.cs"),r.a.createElement(g.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"codeblock"},r.a.createElement(u.a,{text:'namespace Interactables.Triggers.Events\n                  {\n                      public class GlassWallTrigger : MonoBehaviour\n                      {\n                          [SerializeField] private float chargerLookAngle = 0.5f;\n                          private BoxCollider[] colliers;\n                          private Animator animator;\n                          private AudioSource audioSource;\n                          private bool isDestroyable;\n                          private Vector3 glassForward;\n                  \n                          public static Action onBrokenEvent;\n                          \n                          private void Awake()\n                          {\n                              colliers = GetComponents<BoxCollider>();\n                              animator = GetComponent<Animator>();\n                              audioSource = GetComponent<AudioSource>();\n                              glassForward = new Vector3(transform.forward.x, 0, transform.forward.z);\n                  \n                              ChargeState.onStunnedEvent += charger => isDestroyable = false;\n                              ChargeState.onSlowChargeEvent += charger => isDestroyable = false;\n                              ChargeState.onFastChargeEvent += charger => isDestroyable = true;\n                          }\n                  \n                          private void OnDestroy()\n                          {\n                              ChargeState.onStunnedEvent -= charger => isDestroyable = false;\n                              ChargeState.onSlowChargeEvent -= charger => isDestroyable = false;\n                              ChargeState.onFastChargeEvent -= charger => isDestroyable = false;\n                          }\n                  \n                          private void OnTriggerEnter(Collider other)\n                          {\n                              if (!isDestroyable) return;\n                              var chargerForward = new Vector3(other.transform.forward.x, 0, other.transform.forward.z);\n                              if (other.CompareTag("Enemy") && Vector3.Dot(glassForward, chargerForward) > chargerLookAngle)\n                                  DestoryWall();\n                          }\n                  \n                          private void DestoryWall()\n                          {\n                              for (var i = 0; i < colliers.Length; i++)\n                              {\n                                  colliers[i].enabled = false;\n                              }\n                              animator.SetTrigger("GlassBreak");\n                              audioSource.Play();\n                              onBrokenEvent?.Invoke();\n                          }\n                      }\n                  }',showLineNumbers:!0,codeBlock:!0,language:"c",theme:u.b,customStyle:y})))))),r.a.createElement("h2",null,"Miscellaneous"),"To make the grenade pickup more realistic and look better i wanted the grenade in the players hand to appear when the animation of the pickup reached out and grabbed. So my first thought was to make a timer in the script to decide when to enable the grenade but then i realised i could make it much easier with an animation event.",r.a.createElement("img",{src:"../img/Signalparadox/grenadePickupAnimation.gif",alt:"grenadepickupAnimation-gif"}),"To make the transition between levels feel more smooth i made a simple fade in with an elevator sound which triggers at the end of a level, when the elevator sound has finished the player is taken to the next level.",r.a.createElement("img",{src:"../img/Signalparadox/fadeinLevelTransition.gif",alt:"fadeinleveltransition-gif"}),"My programming colleague advised me to make a simple Hinge joint motor instead of an animation to make this cool machine one of my designers made spin.",r.a.createElement("img",{src:"../img/Signalparadox/motorSpin.gif",alt:"motorSpin-gif"}),r.a.createElement("h1",null,"The process"),"This was my biggest game project i've helped make at university so far. I was really exhausted in the beginning of the project because of a previously very intense programming course and that in the beginning of this course we had to make a 2d and 3d controller. The objective with the project was to make a 3D game.",r.a.createElement("h1",null,"Challenges"),"This was a big challenge, i had never made a project of this size before with so many people. My Unity and C# knowledge was also a bit novice. Another challenge was that our group wanted the grenade trajectory to be visualized like a parabola of some sort. I was in charge of the grenade and i had never made something so complex with a linerenderer before. I looked up articles and videos on the internet to understand the math for calculating the curve. After i got down the math, the rest went easier.",r.a.createElement("h1",null,"Iteration"),"The ChargerEnemy had to have it\xb4s Charge Mechanism reworked several times throughout the project until it was bug free and felt good. As my first big Game project, with only a limited amount of Unity and programming knowledge, i definitely struggled with my tasks. But this is what my colleagues expected me to make, so i worked a lot to make sure it worked in the end. I'm also very thankful for my more experienced co-programmer who i could always ask questions or get help from if i needed it. Looking back through my weekly reviews of my work and how my code improved through the project, I'm proud of how i fought to make sure it worked because i learned a lot in the process."))};var w=function(){return r.a.createElement("div",{className:"Project"},r.a.createElement("title",null,"EnviromentUnreal"),r.a.createElement(v.a,{className:"react-player",url:"../vid/animeradScen_AndreasBerzelius.mp4",fluid:"md",controls:!0,light:"true"}),r.a.createElement("div",null,r.a.createElement("h1",null,"What is this?"),"This is a 3D-environment i created in Unreal Engine at a 3D-rendering course at University.",r.a.createElement("h1",null,"The Work"),r.a.createElement("h4",null,"MoodBoard"),r.a.createElement("img",{id:"bigImage",src:"../img/EnviromentUnreal/MoodBoard.png",alt:"moodboard-png"}),r.a.createElement("h4",null,"AssetList"),r.a.createElement("img",{id:"bigImage",src:"../img/EnviromentUnreal/Assetlist.png",alt:"Assetlist-png"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:"../img/EnviromentUnreal/modelering1.png",alt:"modelering1-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/modelering2.png",alt:"modelering2-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/modelering3.png",alt:"modelering3-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/modelering4.png",alt:"modelering4-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/modelering5.png",alt:"modelering5-png"}),r.a.createElement("br",null),r.a.createElement("br",null),"The materials and textures were not made by me but imported from my university. When the buildng parts were done it was time to make the scene in Unreal engine.",r.a.createElement("br",null),r.a.createElement("img",{src:"../img/EnviromentUnreal/scenbygge1.png",alt:"scenbygge1-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/scenbygge2.png",alt:"scenbygge2-png"}),r.a.createElement("br",null),r.a.createElement("br",null),"i made two different vertex paint materials one for building walls and one for the house foundation.",r.a.createElement("img",{src:"../img/EnviromentUnreal/vertexpaint1.png",alt:"vertexpaint1-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/MaterialEditorn_M_1.png",alt:"MaterialEditorn_M_1-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/vertexpaint2.png",alt:"vertextpaint2-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/MaterialEditorn_M_2.png",alt:"MaterialEditorn_M_2-png"}),r.a.createElement("br",null),r.a.createElement("br",null),"I made five different particle effects: torchfire, bonfire, fireflies, chimneysmoke and candle-light.",r.a.createElement("img",{src:"../img/EnviromentUnreal/particles3.png",alt:"particles3-png"}),r.a.createElement("img",{src:"../img/EnviromentUnreal/particles1.png",alt:"particles1-png"}),r.a.createElement("br",null),r.a.createElement("br",null),"The torchfire effect is very similar to bonfire, just slimmer, smaller and dimmer light.",r.a.createElement("img",{src:"../img/EnviromentUnreal/particles2.png",alt:"particles2-png"}),r.a.createElement("img",{id:"bigImage",src:"../img/EnviromentUnreal/moons.png",alt:"moons-png"}),r.a.createElement("br",null),"The moons are two massive spheres with a transparent plane behind them that radiates a glow. They also have a script that makes them always face the player, so if the player moves far into a direction the moons still look realistic.",r.a.createElement("br",null),r.a.createElement("br",null),"After i was pleased about how my scene looked with all the different post-process effects i recorded the video you can see at the top. The sounds are not made by me but imported. I had some trouble first with the grass flickering and not loading in properly when i filmed but that was fixed by giving the camera some starterframes to load in everything before starting to film.",r.a.createElement("img",{src:"../img/EnviromentUnreal/camerawork.png",alt:"camerawork-png"}),r.a.createElement("h1",null,"Challenges"),"The biggest and only challenge for me during this project was modeling and uv-mapping. I had to simplify my design off the buildings because it would have taken too much time off the course to do the whole project.",r.a.createElement("h1",null,"Iteration"),"This was a fun project to do and I didn\xb4t stumble onto many problems during my work. I learned how to do basic modeling, uv-mapping and how to make a beautiful scene in Unreal engine."))},E={height:"500px",overflowY:"scroll",borderRadius:"5px",boxShadow:"1px 2px 3px rgba(0,0,0,0.35)",fontSize:"1rem",margin:"0px 0.75rem"};var S=function(){return r.a.createElement("div",{className:"Project"},r.a.createElement("title",null,"SpaceInvader"),r.a.createElement(v.a,{className:"react-player",url:"../vid/Spaceinvader_demo.mp4",fluid:"md",controls:!0,light:"true"}),r.a.createElement("div",null,r.a.createElement("h1",null,"What is this?"),"This is a much simpler remake of the game Space invaders which i made in a c/c++ programming course at my university. You move around the small green spaceship at the bottom of the screen, trying to shoot and dodge the aliens slowly coming from the top of the screen.",r.a.createElement("h1",null,"Functions"),r.a.createElement("h4",null,"briefly about how the code works:"),"When the main class starts, it begins with creating an instance of player, enemyfactory -components and adding the collision function to the session. Then player and enemyFactory are added to a vector for session, then session.run(); starts which fires the game loop in session. Session then plots its added components in its vectors and decreases an int variable when any of the components are hit by each other if the bool isCoolidable is true for that Component. EnemyFactory creates 3 different formations of enemies. Enemy movement and shooting patterns depends on an int time in session that is updated every tick. Both player and enemy create an instance of the component bullet when they fire a shot. If the bullet does not collide with something before it reaches the edge of the screen then it is removed.",r.a.createElement(g.a,{className:"accordion",defaultActiveKey:"1"},r.a.createElement(p.a,null,r.a.createElement(g.a.Toggle,{as:p.a.Header,eventKey:"0"},"Session.cpp"),r.a.createElement(g.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"codeblock"},r.a.createElement(u.a,{text:'\n                        #include "Session.h"\n                        #include <SDL.h>\n                        #include "Component.h"\n                        #include <iostream>\n                        #include "Label.h"\n                        \n                        using namespace std;\n                        int points = 0;\n                        #define FPS 60\n                        \n                        Session::Session() {\n                            label = Label::getInstance(this);\n                        }\n                        \n                        Session::~Session() {\n                            delete label;\n                            for (Component* c : comps) {\n                                delete c;\n                            }\n                            comps.clear();\n                        }\n                        \n                        void Session::add(Component* comp) {\n                            added.push_back(comp);\n                        }\n                        \n                        void Session::remove(Component* comp) {\n                            removed.push_back(comp);\n                        }\n                        \n                        void Session::addCollisionfunc(std::function<bool(const SDL_Rect&,const SDL_Rect&)> func)\n                        {\n                            fCollide = func;\n                        }\n                        \n                        void Session::run() {\n                            bool quit = false;\n                            Uint32 tickInterval = 1000 / FPS;\n                            while (!quit) {\n                                Uint32 nextTick = SDL_GetTicks() + tickInterval;\n                                SDL_Event event;\n                                while (SDL_PollEvent(&event)) {\n                                    if (event.type == SDL_KEYDOWN) {\n                                        switch (event.key.keysym.sym) {\n                                        case SDL_QUIT: quit = true; break;\n                                        default: for (Component* c : comps) { c->handleKeyDown(event.key.keysym.sym); } break;\n                                        case SDLK_1:\n                                            quit = true; \n                                            event.quit;\n                                            break;\n                                        }\n                                    }\n                                } \n                        \n                                for (Component* c : comps) {\n                                    c->updateTime();\n                                    c->tick();\n                                }\n                                for (Component* c : comps) {\n                                    for (Component* c2 : comps) {\n                                        if (c == c2)\n                                            continue;\n                                            //Egen kollisionsdetekterings class med funktion\n                                            bool res = fCollide(c->getRect(), c2->getRect());\n                                            if (res == true && c->isCollidable()) {\n                                                        label->setText(to_string(points+=1));\n                                                        decreaseEnemies();\n                                                remove(c2);\n                                                remove(c);\n                                            }\n                                    }\n                                }\n                        \n                                for (Component* c : added) {\n                                    comps.push_back(c);\n                                    added.clear();\n                                }\n                        \n                                for (Component* c : removed) {\n                                    for (vector<Component*>::iterator i = comps.begin();\n                                        i != comps.end();)\n                                        if (*i == c) {\n                                            delete *i;\n                                            i = comps.erase(i);\n                                        }\n                                        else\n                                            i++;\n                                    removed.clear();\n                                }\n                        \n                                SDL_SetRenderDrawColor(sys.ren, 0, 0, 0, 0);\n                                SDL_RenderClear(sys.ren);\n                                for (Component* c : comps)\n                                    c->draw();\n                                label->draw();\n                                SDL_RenderPresent(sys.ren);\n                                int delay = nextTick - SDL_GetTicks();\n                                if (delay > 0)\n                                    SDL_Delay(delay);\n                        \n                            } \n                        }\n                        ',showLineNumbers:!0,codeBlock:!0,language:"c",theme:u.b,customStyle:E})))))),r.a.createElement("h4",null,"briefly about how the game works:"),"The game i took inspiration from when i created mine is Spaceinvaders. The player is the green sprite at the bottom, you can move with the keys a for the left and d for right and space for shooting. You try to shoot the enemies that come from the top of the screen. When you kill an enemy, it is added to your points at the top left. If all enemies are killed on the screen, new enemies will appear at the top. This continues until the player is hit by an enemy shot which immediately kills the player.",r.a.createElement("h1",null,"The process"),"I was a bit stressed working on the project because simultaneously as the game was made i was studying for the course exam that had the same deadline as the game but i learned a lot of c/c++ and it was a lot of fun.",r.a.createElement("h1",null,"Challenges"),"It was a big challenge to previously only programmed games with c# and an engine to a new language and no engine. The other big challenge was to manage memory leakage. i downloaded a tool called Deleaker to easier spot different leakages i had until i finally managed to get rid of every single one.",r.a.createElement("h1",null,"Iteration"),"Of course i could have done much more with the game but because i was learning c/c++ and studying for an exam at the same time i am pleased with how it turned out."))},k={height:"500px",overflowY:"scroll",borderRadius:"5px",boxShadow:"1px 2px 3px rgba(0,0,0,0.35)",fontSize:"1rem",margin:"0px 0.75rem"};var C=function(){return r.a.createElement("div",{className:"Project"},r.a.createElement("title",null,"EnviromentUnreal"),r.a.createElement(v.a,{className:"react-player",url:"../vid/Pixelsurgeon_DemoVideo.mp4",fluid:"md",controls:!0,light:"true"}),r.a.createElement("div",null,r.a.createElement("h1",null,"What is this?"),"Pixel surgeon is a learning game about the body's anatomy sitting in a 2d operating room. Inspired by games like Surgeon Simulator and the board game Operation. The game is intended for a broad target group as there is some blood in the game about 8 years and up. The game is that the player is a surgeon who must perform different transplants of different body parts. The level of difficulty in the game is stepped up in the form of the player having to replace more and more organs (maximum 3). When the player cuts off organs or limbs, the patient starts bleeding differently depending on which part of the body is lost, as you can see on a blood Monitor in the lower right corner of the screen and how much blood may be lost until the patient dies. The player uses the saw to cut off limbs, the chapel to cut loss organs and open up the torso and needle to sew everything back. When the player has cut loss the bad body part and replaced it with a healthy body part and then sewed everything together without the patient losing too much blood, the player has passed surgery and presenters then with a rating on its effort. If the player fails, he also gets a rating. The grading system goes from F to A and depends on how much blood the patient has lost and how correct the placement of the healthy body part is. In addition to teaching about the body's anatomy, we list a couple of fun facts about each of the body parts that you can read if you press \"Organ info\" up to the left and click or have clicked on a body part.",r.a.createElement("br",null),r.a.createElement("img",{src:"../img/Pixelsurgeon/pixelsurgeon-stats.png",alt:"pixelsurgeon-stats-img"}),r.a.createElement("h1",null,"My tasks"),"My role I worked on was mainly to create the controls for the game and handle input but I also made a script to handle when the patient should start or stop bleeding on those different blood positions on the body that chose the arms, legs and torso. Then I also modified the blood-particle effect that bleeds on the different blood positions and made a short animation and sound effect for when the player gets his rating.",r.a.createElement("h4",null,"controls"),"Controls are based on the new input system and are then the script that handles the player's input and is the controller for the player. The actions the player can do in the game are then: pick up body parts / tools, rotate tools and sew / cut. The controls for performing these actions are based entirely on the mouse and include: left-click to click and hold objects, right-click to use the tool you are holding, and scroll wheel to rotate tools 90 degrees at a time. Picking up objects is then done with the help of a RaycastAll which its hit list sorts according to stock order and whether it is a tool or body part to decide what to pick up. It is necessary to remove bugs and annoying moments such as picking up something that is on the bottom even though it is slightly above that object. Using a tool is managed with the help of a switch kit which, depending on which tool was used, sends an event with the body part on which it was used. This is listened to by the Bodypart script, which decides whether the body part should be removed or inserted. Rotate is managed by first checking if you are holding something and if it is a tool. Then you check if the mouse rotates up or down and depending on this rotate +90 degrees or -90 degrees.",r.a.createElement(g.a,{className:"accordion",defaultActiveKey:"1"},r.a.createElement(p.a,null,r.a.createElement(g.a.Toggle,{as:p.a.Header,eventKey:"0"},"Controls.cs"),r.a.createElement(g.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"codeblock"},r.a.createElement(u.a,{text:'\n                  namespace Player\n                  {\n                      public class Controls : MonoBehaviour\n                      {\n                          public static Action<GameObject> OnCutEvent,\n                              OnSawEvent,\n                              OnSewnEvent,\n                              OnBodyPartPickupEvent,\n                              OnToolPickupEvent,\n                              OnDropBodyPartEvent,\n                              OnDropToolEvent;\n                  \n                          public static Action OnToolRotateEvent;\n                  \n                          [SerializeField] private LayerMask mask;\n                          private Camera _camera;\n                          private PlayerActionsScript _controls;\n                          private GameObject _heldObj;\n                          private SpriteRenderer _heldObjSpriteRen;\n                          private bool _isHolding;\n                          private Vector2 _mousePos;\n                          private int _oldSortOrder;\n                          private float _startPosX, _startPosY;\n                  \n                          private void Awake()\n                          {\n                              _controls = new PlayerActionsScript();\n                              _camera = Camera.main;\n                          }\n                  \n                          private void Start()\n                          {\n                              _controls.Player.Scroll.performed += Scroll;\n                              _controls.Player.LeftClick.started += _ => LeftClick();\n                              _controls.Player.LeftClick.performed += _ => LeftClickRelease();\n                              _controls.Player.RightClick.performed += _ => RightClick();\n                          }\n                  \n                          private void Update()\n                          {\n                              if (_isHolding) HoldObj();\n                          }\n                  \n                          private void OnEnable()\n                          {\n                              _controls.Enable();\n                          }\n                  \n                          private void OnDisable()\n                          {\n                              _controls.Disable();\n                          }\n                  \n                          private void Scroll(InputAction.CallbackContext ctx)\n                          {\n                              if (_isHolding && _heldObj.layer == 8) Rotate(ctx);\n                          }\n                  \n                          private void LeftClickRelease()\n                          {\n                              {\n                                  if (_heldObj == null) return;\n                                  _isHolding = false;\n                                  _heldObj.transform.localScale = new Vector3(1f, 1f, 1f);\n                                  _heldObjSpriteRen.sortingOrder = _oldSortOrder;\n                                  switch (_heldObj.layer)\n                                  {\n                                      case 8:\n                                          OnDropToolEvent?.Invoke(_heldObj);\n                                          break;\n                                      case 9:\n                                          OnDropBodyPartEvent?.Invoke(_heldObj);\n                                          break;\n                                  }\n                  \n                                  _heldObj = null;\n                              }\n                          }\n                  \n                          private void RightClick()\n                          {\n                              if (_heldObj == null) return;\n                              switch (_heldObj.name)\n                              {\n                                  case "Saw":\n                                      OnSawEvent?.Invoke(_heldObj.GetComponent<Tool.Tool>().GetBodyPart());\n                                      break;\n                                  case "Scalpel":\n                                      OnCutEvent?.Invoke(_heldObj.GetComponent<Tool.Tool>().GetBodyPart());\n                                      break;\n                                  case "Sewingkit":\n                                      OnSewnEvent?.Invoke(_heldObj.GetComponent<Tool.Tool>().GetBodyPart());\n                                      break;\n                              }\n                          }\n                  \n                          private void LeftClick()\n                          {\n                              _mousePos = _controls.Player.Mouseposition.ReadValue<Vector2>();\n                              _mousePos = _camera.ScreenToWorldPoint(_mousePos);\n                              var hits = Physics2D.RaycastAll(_mousePos, Vector2.zero, 0f, mask);\n                              var gameobjects = hits.Where(hit => hit.collider.gameObject.activeSelf)\n                                  .Select(hit => hit.collider.gameObject).ToArray();\n                              if (gameobjects.Length <= 0) return;\n                              _heldObj = (\n                                  from\n                                      item in gameobjects\n                                  orderby\n                                      item.transform.GetChild(0).GetComponent<SpriteRenderer>()?.sortingLayerID,\n                                      item.transform.GetChild(0).GetComponent<SpriteRenderer>()?.sortingOrder descending\n                                  where\n                                      mask == (mask | (1 << item.transform.gameObject.layer))\n                                  select\n                                      item.transform.gameObject\n                              ).ToArray().First();\n                  \n                              if (_heldObj.layer == 9 && _heldObj.GetComponent<BodyPart>().IsAttached())\n                              {\n                                  _heldObj = null;\n                                  return;\n                              }\n                  \n                              _heldObjSpriteRen = _heldObj.transform.GetChild(0).GetComponent<SpriteRenderer>();\n                              _oldSortOrder = _heldObjSpriteRen.sortingOrder;\n                              _heldObjSpriteRen.sortingOrder = 10;\n                  \n                              switch (_heldObj.layer)\n                              {\n                                  //layer 8 == Tools\n                                  case 8:\n                                      _startPosX = 0;\n                                      _startPosY = 0;\n                                      OnToolPickupEvent?.Invoke(_heldObj);\n                                      break;\n                                  //layer 9 == Organs\n                                  case 9:\n                                      _startPosX = _mousePos.x - _heldObj.transform.position.x;\n                                      _startPosY = _mousePos.y - _heldObj.transform.position.y;\n                                      OnBodyPartPickupEvent?.Invoke(_heldObj);\n                                      break;\n                              }\n                  \n                              _heldObj.transform.localScale = new Vector3(1.2f, 1.2f, 1.2f);\n                              _isHolding = true;\n                          }\n                  \n                          private void HoldObj()\n                          {\n                              _mousePos = _controls.Player.Mouseposition.ReadValue<Vector2>();\n                              _mousePos = _camera.ScreenToWorldPoint(_mousePos);\n                              _heldObj.transform.position = new Vector3(_mousePos.x - _startPosX, _mousePos.y - _startPosY, 0);\n                          }\n                  \n                          private void Rotate(InputAction.CallbackContext ctx)\n                          {\n                              OnToolRotateEvent?.Invoke();\n                              if (ctx.ReadValue<Vector2>().y > 0)\n                                  _heldObj.transform.Rotate(Vector3.forward, 90f);\n                              else\n                                  _heldObj.transform.Rotate(Vector3.forward, -90f);\n                          }\n                      }\n                  }',showLineNumbers:!0,codeBlock:!0,language:"c",theme:u.b,customStyle:k})))))),r.a.createElement("h4",null,"BleedSpotManager"),'Manages whether the patient should start bleeding or stop bleeding at the different blood positions. This is done first with the help of a dictionary entering the names of the body parts as keys and the blood positions as values. The organs are commonly represented by a blood position "Thorax". Then when a tool is used, a function is started in the script that checks which tool was used and which body part it was used on and depending on this start or stop the bleeding at the different blood positions.',r.a.createElement(g.a,{className:"accordion",defaultActiveKey:"1"},r.a.createElement(p.a,null,r.a.createElement(g.a.Toggle,{as:p.a.Header,eventKey:"0"},"BleedSpotManager.cs"),r.a.createElement(g.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"codeblock"},r.a.createElement(u.a,{text:'\n                  public class BleedSpotManager : MonoBehaviour\n                  {\n                      Dictionary<string, ParticleSystem> _bleedSpots;\n                      private string[] _bleedSpotNames = { "ArmLeft", "ArmRight", "RightLeg", "LeftLeg", "Thorax" };\n                      private int _currentdetachedOrgans;\n                  \n                      private void Awake()\n                      {\n                          _bleedSpots = new Dictionary<string, ParticleSystem>();\n                  \n                          for (int i = 0; i < transform.childCount; i++)\n                          {\n                              _bleedSpots.Add(_bleedSpotNames[i], transform.GetChild(i).GetComponent<ParticleSystem>());\n                          }\n                          BodyPart.OnToolUsedEvent += ToolUsed;\n                      }\n                  \n                      private void OnDestroy()\n                      {\n                          BodyPart.OnToolUsedEvent = null;\n                      }\n                  \n                      private void ToolUsed(BodyPart bp, string tool)\n                      {\n                  \n                          if (bp.name == "Ribcage") return;\n                  \n                          if (bp.tag == "Organ")\n                          {\n                              if (tool == "Scalpel")\n                              {\n                                  _currentdetachedOrgans++;\n                                  _bleedSpots["Thorax"].Play();\n                                  return;\n                              }\n                              else if (tool == "Sewingkit")\n                              {\n                                  if (_currentdetachedOrgans - 1 == 0)\n                                  {\n                                      _currentdetachedOrgans--;\n                                      _bleedSpots["Thorax"].Stop();\n                                      return;\n                                  }\n                                  _currentdetachedOrgans--;\n                                  return;\n                              }\n                          }\n                          else\n                          {\n                              if (tool == "Sewingkit")\n                              {\n                                  _bleedSpots[bp.name].Stop();\n                                  return;\n                              }\n                              else\n                              {\n                                  if (!_bleedSpots[bp.name].isPlaying)\n                                      _bleedSpots[bp.name].Play();\n                                  return;\n                              }\n                          }\n                  \n                      }\n                  \n                  }',showLineNumbers:!0,codeBlock:!0,language:"c",theme:u.b,customStyle:k})))))),r.a.createElement("h4",null,"Miscellaneous"),"I made an animation that visualizes that the grade slides and fades into the screen. Then I also made a slightly comical almost fart-like sound that is played in connection with the animation.",r.a.createElement("h1",null,"The process"),"This was a small but fun 2d project to make! The goal of the project was to make a learning game.",r.a.createElement("h1",null,"Challenges"),"The biggest challenge for me was to make the Controls work as intended.",r.a.createElement("h1",null,"Iteration"),"We were sure that we wanted to teach about the anatomy of the body from the beginning, but if we were to teach basic information about the different parts of the body, we changed it to short fun facts, as we judged that it would be very boring to just sit and read paragraphs of facts. Other things we changed about were the number of tools and whether the player could do brain transplants. We considered brain transplants to be too unrealistic as we still try to relate to some form of semi-realism in the game. The second was that we were content with only three tools because if we had added more, we think it would have been too cumbersome to keep track of. Certain things got reworked under the project but i am pleased about how it turned out and the work me and my colleagues put into the project. In the end i learned more about working on 2D projects in Unity."))};var T=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"Andreas Berzelius")),r.a.createElement(c,null),r.a.createElement(s.a,{exact:!0,path:"/",component:d}),r.a.createElement(s.a,{path:"/Cv",component:m}),r.a.createElement(s.a,{path:"/Projects",component:h}),r.a.createElement(s.a,{path:"/Signalparadox",component:b}),r.a.createElement(s.a,{path:"/EnviromentUnreal",component:w}),r.a.createElement(s.a,{path:"/Spaceinvader",component:S}),r.a.createElement(s.a,{path:"/Pixelsurgeon",component:C}),r.a.createElement("footer",null,"\xa92020 Andreas Berzelius. All Rights Reserved. Email: Andreas.Berzelius@outlook.com")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,152,153]]]);
//# sourceMappingURL=main.084db035.chunk.js.map